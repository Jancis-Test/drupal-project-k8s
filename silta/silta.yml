
# Values in this file override the default values of our helm chart.
#
# See https://github.com/wunderio/charts/blob/master/drupal/values.yaml
# for all possible options.

varnish:
  enabled: false

elasticsearch:
  enabled: true

memcached:
  enabled: true

mounts:
  private-files:
    enabled: true

nginx:
  basicauth:
    enabled: false

# Allow access from another namespace for testing purposes.
silta-release:
  ingressAccess:
    test:
      additionalPodSelector:
        app: drupal
      from:
        - namespaceSelector:
            matchLabels:
              name: drupal-project
    allowESaccess:
      additionalPodSelector:
        chart: elasticsearch
      from:
        - namespaceSelector:
            matchLabels:
              name: drupal-project

  proxy:
    enabled: true
    no_proxy: ".example.com"


  ingress:
    nonssl:
      type: traefik
      tls: false
      redirect-https: false
    gce:
      # backendConfig: {}
      staticIpAddressName: example-exposedomains-global    
    gce-regional:
      type: gce
      # backendConfig:
      #   # cdn:
      #   #   enabled: true
      #   securityPolicy: silta-ingress
      # backendConfig: {}
      staticIpAddressName: example-exposedomains-regional

exposeDomains:
  example1:
    hostname: example1.feature-exposedomains-v2.drupal-project-k8s.dev.wdr.io
  example2:
    hostname: example2.feature-exposedomains-v2.drupal-project-k8s.dev.wdr.io
    # Reference to a key under `silta-release.ingress`
    ingress: gce-regional
  example3:
    hostname: example3.feature-exposedomains-v2.drupal-project-k8s.dev.wdr.io
    # Reference to a key under `silta-release.ingress`
    ingress: gce-regional
  example4:
    hostname: example4.feature-exposedomains-v2.drupal-project-k8s.dev.wdr.io
    ssl: 
      # This will be deprecated in favor of `silta-release.ingress.[ingress].ssl.enabled`
      enabled: false
    ingress: nonssl
  example5:
    hostname: example5.feature-exposedomains-v2.drupal-project-k8s.dev.wdr.io
  example6:
   hostname: example6.feature-exposedomains-v2.drupal-project-k8s.dev.wdr.io
   ingress: gce
  example7:
    hostname: example7.feature-exposedomains-v2.drupal-project-k8s.dev.wdr.io
    ingress: gce-regional

domainPrefixes: 
  - test1
  - test2
  - test0
  - test3
  - test4
